import styled from 'styled-components'

const StyledSvg = styled.svg`
  display: inline-block;
  vertical-align: middle;

  ${({ $size }) => {
    return `
      width:  auto;
      height: var(--es-theme-line-height-body-${$size});
      line-height: var(--es-theme-line-height-body-${$size});
    `
  }}

  ${({ $spinning }) => {
    if ($spinning) {
      return `
        animation-name: spin;
        animation-duration: 1000ms;
        animation-iteration-count: infinite;
        animation-timing-function: linear;
      `
    }
  }}

  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`

const LoadingIndicator = ({ spinning = false, size = 'm' }) => {
  return (
    <StyledSvg
      $spinning={spinning}
      $size={size}
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <circle cx="8" cy="8" r="7" stroke="#F9F9F9" strokeWidth="2" />
      <mask id="path-2-inside-1_1293_24641" fill="white">
        <path d="M8 16C9.58225 16 11.129 15.5308 12.4446 14.6518C13.7602 13.7727 14.7855 12.5233 15.391 11.0615C15.9965 9.59966 16.155 7.99113 15.8463 6.43928C15.5376 4.88743 14.7757 3.46197 13.6569 2.34315C12.538 1.22433 11.1126 0.4624 9.56072 0.153718C8.00888 -0.154964 6.40034 0.00346249 4.93853 0.608963C3.47672 1.21446 2.2273 2.23984 1.34824 3.55544C0.469192 4.87103 2.38913e-07 6.41775 0 8L1.99822 8C1.99822 6.81296 2.35022 5.65258 3.0097 4.66559C3.66919 3.6786 4.60654 2.90934 5.70322 2.45508C6.7999 2.00082 8.00666 1.88196 9.17089 2.11354C10.3351 2.34512 11.4045 2.91673 12.2439 3.7561C13.0833 4.59546 13.6549 5.66488 13.8865 6.82911C14.118 7.99334 13.9992 9.2001 13.5449 10.2968C13.0907 11.3935 12.3214 12.3308 11.3344 12.9903C10.3474 13.6498 9.18704 14.0018 8 14.0018V16Z" />
      </mask>
      <path
        d="M8 16C9.58225 16 11.129 15.5308 12.4446 14.6518C13.7602 13.7727 14.7855 12.5233 15.391 11.0615C15.9965 9.59966 16.155 7.99113 15.8463 6.43928C15.5376 4.88743 14.7757 3.46197 13.6569 2.34315C12.538 1.22433 11.1126 0.4624 9.56072 0.153718C8.00888 -0.154964 6.40034 0.00346249 4.93853 0.608963C3.47672 1.21446 2.2273 2.23984 1.34824 3.55544C0.469192 4.87103 2.38913e-07 6.41775 0 8L1.99822 8C1.99822 6.81296 2.35022 5.65258 3.0097 4.66559C3.66919 3.6786 4.60654 2.90934 5.70322 2.45508C6.7999 2.00082 8.00666 1.88196 9.17089 2.11354C10.3351 2.34512 11.4045 2.91673 12.2439 3.7561C13.0833 4.59546 13.6549 5.66488 13.8865 6.82911C14.118 7.99334 13.9992 9.2001 13.5449 10.2968C13.0907 11.3935 12.3214 12.3308 11.3344 12.9903C10.3474 13.6498 9.18704 14.0018 8 14.0018V16Z"
        stroke="#3B82F6"
        strokeWidth="4"
        mask="url(#path-2-inside-1_1293_24641)"
      />
    </StyledSvg>
  )
}

export default LoadingIndicator
